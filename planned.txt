- getPosition заменить глобальными переменными или структурой
- контроль выхода за пределы рабочей зоны в toRetract()